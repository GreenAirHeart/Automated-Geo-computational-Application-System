<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Linked Squares with Expansion</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    /* Styles for different elements */
    .blue-square {
      fill: blue; /* Blue color for the blue square */
    }
    .light-blue-square {
      fill: lightblue;
      display: none; /* Initially hidden light blue square */
    }
    .red-square {
      fill: red; /* Red color for the red square */
    }
    .yellow-square {
      fill: yellow; /* Yellow color for the yellow square */
    }
    .green-square {
      fill: green; /* Green color for the green square */
    }
    .pink-square {
      fill: pink; /* Pink color for the pink square */
    }
    .line {
      stroke: black; /* Black color for lines */
    }
  </style>
</head>
<body>
  <!-- SVG container for squares and lines -->
  <svg width="1000" height="100">
    <!-- Blue square -->
    <rect class="blue-square" x="50" y="25" width="50" height="50"></rect>
    <!-- Light blue expanded square -->
    <rect class="light-blue-square" x="150" y="25" width="50" height="50"></rect>
    <!-- Red square -->
    <rect class="red-square" x="250" y="25" width="50" height="50"></rect>
    <!-- Yellow square -->
    <rect class="yellow-square" x="350" y="25" width="50" height="50"></rect>
    <!-- Green square -->
    <rect class="green-square" x="450" y="25" width="50" height="50"></rect>
    <!-- Pink square -->
    <rect class="pink-square" x="550" y="25" width="50" height="50"></rect>

    <!-- Black line -->
    <line class="line" x1="100" y1="50" x2="150" y2="50"></line>
    <!-- Gray line -->
<!--    <line class="line" x1="200" y1="50" x2="250" y2="50"></line>-->
<!--    <line class="line" x1="300" y1="50" x2="350" y2="50"></line>-->
<!--    <line class="line" x1="400" y1="50" x2="450" y2="50"></line>-->
  </svg>

  <script>
    const blueSquare = d3.select('.blue-square'); // Selects the blue square
    const lightBlueSquare = d3.select('.light-blue-square'); // Selects the light blue square
    const redSquare = d3.select('.red-square'); // Selects the red square
    const yellowSquare = d3.select('.yellow-square'); // Selects the yellow square
    const greenSquare = d3.select('.green-square'); // Selects the green square
    const pinkSquare = d3.select('.pink-square'); // Selects the pink square
    const grayLines = d3.selectAll('.line'); // Selects all gray lines
    const secondLine = d3.select('.line:nth-child(2)');
    let expanded = false; // Variable to track the expansion state

    const expandSquare = () => {
      if (!expanded) { // If the square is not expanded
        lightBlueSquare.style('display', 'block'); // Shows the light blue square
        secondLine.attr('stroke', 'red');
        // grayLines.filter((d, i) => i === 1).style('display', 'none'); // Hides the gray line
        redSquare.attr('x', +redSquare.attr('x') + 100); // Moves the red square to the right
        yellowSquare.attr('x', +yellowSquare.attr('x') + 100); // Moves the yellow square to the right
        greenSquare.attr('x', +greenSquare.attr('x') + 100); // Moves the green square to the right
        pinkSquare.attr('x', +pinkSquare.attr('x') + 100); // Moves the pink square to the right
        expanded = true; // Updates the expansion state
      } else { // If the square is expanded
        lightBlueSquare.style('display', 'none'); // Hides the light blue square
        // grayLines.filter((d, i) => i === 1).style('display', 'block'); // Shows the gray line
        redSquare.attr('x', +redSquare.attr('x') - 100); // Moves the red square back to its original position
        yellowSquare.attr('x', +yellowSquare.attr('x') - 100); // Moves the yellow square back to its original position
        greenSquare.attr('x', +greenSquare.attr('x') - 100); // Moves the green square back to its original position
        pinkSquare.attr('x', +pinkSquare.attr('x') - 100); // Moves the pink square back to its original position
        expanded = false; // Updates the expansion state
      }
    };

    blueSquare.on('click', expandSquare); // Click event listener for the blue square
  </script>
</body>
</html>
